# 데이터 출처 및 인사이트 근거

## 개요

Phase 1에서 사용하는 모든 데이터와 인사이트의 출처를 명확히 문서화하여 투명성과 신뢰성을 확보합니다.

**⚠️ 개발 참고**: Phase 1 개발은 이 문서에 명시된 값으로 진행합니다. 검증은 Phase 2 또는 이후에 API를 통해 수행합니다.

**검증 상태**:

- ✅ 기관 존재 확인 완료
- ⚠️ 구체적 수치는 API를 통한 검증 필요 (Phase 2)

---

## 1. 입력 데이터 출처

### 1.1 사용자 입력 데이터

**데이터 타입**: 사용자가 직접 입력

**출처**: 사용자 개인 재정 정보

**검증 방법**:

- 입력 검증을 통한 형식 확인
- 논리적 검증 (예: 은퇴 나이 > 현재 나이)
- 범위 검증 (예: 나이 0-150세)

**표시 방법**:

- 입력 필드에 "본인의 재정 정보를 정확히 입력해주세요" 안내
- 계산 결과 페이지에 "입력 데이터 기반 계산" 명시

---

## 2. 계산에 사용되는 가정 및 기본값

### 2.1 인플레이션 가정

**Phase 1**: 인플레이션 미반영 (기본값 사용)

**기본값**: 2.5% (최근 3년 평균)

**출처**:

- 한국은행 경제통계시스템 (ECOS)
- 통계청 소비자물가동향조사
- **참고 기간**: 2021-2023년 평균

**검증 상태**: ⚠️ API를 통한 검증 필요

**검증 방법**:

- 한국은행 ECOS API를 통한 2021-2023년 소비자물가상승률 조회
- 연평균 계산 후 실제 값 확인
- API 엔드포인트: `https://ecos.bok.or.kr/api/StatisticSearch/{API_KEY}/json/kr/1/10/010Y001/MM/202101/202312/10101`
- 참고: ECOS API 가이드 (https://ecos.bok.or.kr/api/)

**표시 방법**:

```
💡 계산 가정: 인플레이션은 고려하지 않았습니다.
   (실제 구매력은 인플레이션에 따라 달라질 수 있습니다)
```

**Phase 2에서 개선**:

- 한국은행 API를 통한 실시간 인플레이션 데이터 연동
- 과거 10년 평균 인플레이션 반영

---

### 2.2 연봉 증가율

**기본값**: 사용자 입력 (기본 3.0%)

**출처**:

- 통계청 임금근로시간조사
- 한국고용정보원 직업정보망 (워크넷)
- **참고**: 최근 5년 평균 임금 상승률 약 3-4%

**검증 상태**: ⚠️ API를 통한 검증 필요

**검증 방법**:

- 통계청 KOSIS API를 통한 임금근로시간조사 데이터 조회
- 최근 5년 평균 임금 상승률 계산
- 참고: KOSIS Open API (https://kosis.kr/openapi/)

**표시 방법**:

```
💡 연봉 증가율 가정: {사용자 입력값}%
   (최근 5년 평균 임금 상승률: 약 3-4%)
```

---

### 2.3 재정 건전성 등급 기준

**등급 기준**:

| 등급 | 저축률 기준 | 출처 및 근거                              |
| ---- | ----------- | ----------------------------------------- |
| A    | > 30%       | 금융감독원 가계금융조사: 건강한 가계 기준 |
| B    | 20-30%      | OECD 평균 저축률 (약 20%)                 |
| C    | 10-20%      | 한국 평균 저축률 (약 15%)                 |
| D    | 5-10%       | 주의 필요 수준                            |
| E    | 0-5%        | 위험 수준                                 |
| F    | < 0%        | 적자 상태                                 |

**출처**:

- 금융감독원 가계금융조사 보고서
- OECD Economic Outlook
- 한국은행 경제통계시스템

**검증 상태**: ⚠️ 공식 보고서 확인 필요

**검증 방법**:

- 금융감독원 사이트에서 "가계금융조사" 보고서 검색
- 보고서에서 저축률 기준 확인
- 공식 기준이 없으면 "금융권 일반 권장 기준"으로 변경
- 참고: 금융감독원 (https://www.fss.or.kr/)

**표시 방법**:

```
📊 재정 건전성 등급: {등급}
   기준: 저축률 {저축률}%
   (출처: 금융감독원 가계금융조사 기준)
```

---

## 3. 리스크 시나리오 가정

### 3.1 소득 중단 생존 기간

**계산 방법**: 자산 ÷ 월 지출

**가정**:

- 소득이 완전히 중단됨
- 지출 패턴 유지
- 자산 감소만 고려 (투자 수익 미고려)

**출처**:

- 금융감독원: 비상금 권장 기준 (6개월치 생활비)
- 일반적인 금융 조언: 3-6개월치 생활비 준비 권장

**검증 상태**: ⚠️ 공식 문서 확인 필요

**검증 방법**:

- 금융감독원 공식 사이트에서 비상금 관련 권장사항 검색
- 공식 문서가 없으면 "금융권 일반 권장 기준"으로 변경
- 뉴스 검색: "비상금 6개월 생활비 권장"

**표시 방법**:

```
⚠️ 소득 중단 시 생존 가능 기간: {개월}개월
   가정: 소득 완전 중단, 지출 패턴 유지
   권장: 최소 6개월치 생활비 준비 (금융감독원 기준)
```

---

### 3.2 경제 위기 시나리오

**자산 하락률**: 30%, 50%

**출처**:

- 과거 경제 위기 사례:
  - 2008 금융위기: 주식 시장 약 50% 하락
  - 2020 코로나19: 주식 시장 약 30% 하락
- 금융감독원 스트레스 테스트 기준

**검증 상태**: ⚠️ 정확한 수치 확인 필요

**검증 방법**:

- 한국거래소 또는 금융 데이터 제공 사이트에서 코스피 지수 확인
- 2008년, 2020년 최고점 대비 최저점 하락률 계산
- 정확한 수치로 문서 업데이트

**표시 방법**:

```
📉 경제 위기 시나리오 (자산 -30% 하락)
   근거: 2020 코로나19 시 주식 시장 하락률 참고
   주의: 실제 위기 상황은 더 복잡할 수 있습니다
```

---

### 3.3 은퇴 시나리오

**가정**:

- 은퇴 후 20년간 생활비 유지
- 월 지출 = 현재 월 지출
- 인플레이션 미반영 (Phase 1)

**출처**:

- 통계청 생명표: 기대여명
- 국민연금공단: 평균 기대여명 약 20년 (60세 기준)

**검증 상태**: ⚠️ 최신 데이터 확인 필요

**검증 방법**:

- 통계청 KOSIS API 또는 사이트에서 생명표 데이터 조회
- 60세 기준 기대여명 확인 (남성/여성 구분 또는 평균값)
- 최신 연도(2024 또는 2025) 데이터로 업데이트
- 참고: 통계청 KOSIS (https://kosis.kr/)

**표시 방법**:

```
🏖️ 은퇴 시나리오
   가정: 은퇴 후 20년간 현재 생활비 유지
   근거: 통계청 생명표 (60세 기준 평균 기대여명 약 20년)
   주의: 인플레이션 및 의료비 증가는 고려하지 않았습니다
```

---

## 4. 위험도 점수 계산 근거

### 4.1 점수 구성 요소

**저축률 (40점)**:

- 기준: 저축률 30% 이상 = 0점 (위험 없음)
- 저축률 0% = 40점 (최대 위험)
- 출처: 금융감독원 건강한 가계 기준

**부채 비율 (30점)**:

- 기준: 부채/자산 비율
- 부채 비율 0% = 0점
- 부채 비율 100% = 30점
- 출처: 금융감독원 가계금융조사

**비상금 충분도 (30점)**:

- 기준: 6개월치 생활비 = 0점
- 0개월 = 30점
- 출처: 금융감독원 비상금 권장 기준

**표시 방법**:

```
⚠️ 위험도 점수: {점수}/100

   계산 요소:
   - 저축률: {점수}점 (기준: 금융감독원)
   - 부채 비율: {점수}점 (기준: 금융감독원)
   - 비상금 충분도: {점수}점 (기준: 6개월치 생활비)
```

---

## 5. 시나리오 비교 가정

### 5.1 시나리오별 가정

**"지출 -10%" 시나리오**:

- 가정: 월 지출이 10% 감소
- 다른 조건 동일 (연봉, 자산 등)
- 출처: 일반적인 절약 목표 (10-20%)

**"연봉 +5%" 시나리오**:

- 가정: 연봉 증가율이 5%로 상승
- 다른 조건 동일
- 출처: 통계청 임금 상승률 (최근 5년 평균 약 3-4%)

**표시 방법**:

```
📊 시나리오 비교

   시나리오: {시나리오명}
   가정: {변경 사항}
   다른 조건: 동일

   ⚠️ 주의: 실제 결과는 다양한 요인에 따라 달라질 수 있습니다
```

---

## 6. 데이터 출처 표시 방법

### 6.1 결과 페이지에 출처 표시

각 결과 섹션 하단에 출처 표시:

```python
# 예시: 인사이트 텍스트 아래
st.caption("💡 계산 근거: 한국은행 경제통계시스템, 금융감독원 가계금융조사")
st.caption("⚠️ 주의: 이 결과는 가정에 기반한 시뮬레이션입니다. 실제 결과는 다를 수 있습니다.")
```

### 6.2 상세 출처 페이지

별도 페이지 또는 확장 가능한 섹션에 상세 출처 표시:

```python
with st.expander("📚 데이터 출처 및 계산 근거"):
    st.markdown("""
    ### 데이터 출처

    #### 인플레이션
    - 출처: 한국은행 경제통계시스템 (ECOS)
    - URL: https://ecos.bok.or.kr/
    - 사용 데이터: 소비자물가상승률 (2021-2023 평균)

    #### 재정 건전성 등급
    - 출처: 금융감독원 가계금융조사
    - 기준: 저축률 기반 등급 평가

    #### 비상금 권장 기준
    - 출처: 금융감독원
    - 권장: 6개월치 생활비

    ### 계산 가정

    - 인플레이션: Phase 1에서는 미반영 (기본값 사용)
    - 투자 수익: 고려하지 않음 (저축만 고려)
    - 긴급 지출: 고려하지 않음
    - 의료비 증가: 고려하지 않음

    ### 제한사항

    이 도구는 시뮬레이션 목적으로만 사용되어야 하며,
    실제 금융 결정을 위한 전문가 조언을 대체하지 않습니다.
    """)
```

---

## 7. 법적 고지 및 면책

### 7.1 필수 고지 사항

**홈 페이지 및 각 결과 페이지에 표시**:

```python
st.markdown("---")
st.warning("""
⚠️ **면책 조항**

이 도구는 교육 및 시뮬레이션 목적으로만 제공됩니다.

- 금융 조언이 아닙니다
- 투자 권유가 아닙니다
- 실제 재정 결정에 대한 책임을 지지 않습니다
- 전문가의 조언을 받는 것을 권장합니다

**데이터 정확성**:
- 계산 결과는 입력 데이터와 가정에 기반합니다
- 실제 결과는 다양한 요인에 따라 달라질 수 있습니다
- 인플레이션, 투자 수익 등은 Phase 1에서 고려하지 않았습니다
""")
```

---

## 8. 출처 표시 UI 컴포넌트

### 8.1 출처 표시 컴포넌트

```python
# modules/formatters.py

def render_data_source(calculation_type: str):
    """
    계산 유형별 출처 표시

    Args:
        calculation_type: 'income', 'risk', 'comparison' 등
    """
    sources = {
        'income': {
            'title': '소득 및 지출 분석',
            'sources': [
                '입력 데이터: 사용자 입력',
                '재정 건전성 기준: 금융감독원 가계금융조사',
                '인플레이션: 미반영 (Phase 1)'
            ]
        },
        'risk': {
            'title': '리스크 시나리오',
            'sources': [
                '비상금 기준: 금융감독원 (6개월치 생활비)',
                '경제 위기 시나리오: 과거 위기 사례 참고 (2008, 2020)',
                '은퇴 기대여명: 통계청 생명표'
            ]
        },
        'comparison': {
            'title': '시나리오 비교',
            'sources': [
                '시나리오 가정: 사용자 입력 기반',
                '임금 상승률: 통계청 임금근로시간조사 (참고)'
            ]
        }
    }

    if calculation_type in sources:
        info = sources[calculation_type]
        with st.expander(f"📚 {info['title']} - 데이터 출처"):
            st.markdown("### 출처")
            for source in info['sources']:
                st.markdown(f"- {source}")

            st.markdown("### 제한사항")
            st.markdown("""
            - 이 결과는 가정에 기반한 시뮬레이션입니다
            - 실제 결과는 다양한 요인에 따라 달라질 수 있습니다
            - 전문가의 조언을 받는 것을 권장합니다
            """)
```

---

## 9. Phase 1 vs Phase 2 데이터 출처

### 9.1 Phase 1 (현재)

**데이터 출처**:

- 사용자 입력 데이터
- 기본값 (인플레이션 2.5%, 통계청 평균값)
- 공개 통계 데이터 (참고용)

**제한사항**:

- 실시간 데이터 미사용
- 인플레이션 미반영
- 투자 수익 미고려

### 9.2 Phase 2 (향후)

**데이터 출처**:

- 한국은행 API (실시간 인플레이션, 환율)
- 통계청 API (임금, 물가 등)
- CoinGecko API (암호화폐, 선택적)

**개선사항**:

- 실시간 데이터 반영
- 과거 데이터 API 조회
- 더 정확한 시뮬레이션

---

## 10. 출처 표시 체크리스트

### 각 결과 페이지에 포함해야 할 항목

- [ ] 계산에 사용된 가정 명시
- [ ] 데이터 출처 표시
- [ ] 제한사항 및 주의사항
- [ ] 면책 조항
- [ ] Phase 1 제한사항 (인플레이션 미반영 등)
- [ ] 전문가 조언 권장 문구

---

## 11. 참고 자료 링크

### 공식 데이터 소스

1. **한국은행 경제통계시스템 (ECOS)**

   - URL: https://ecos.bok.or.kr/
   - 데이터: 인플레이션, 금리, 환율 등

2. **통계청 국가통계포털 (KOSIS)**

   - URL: https://kosis.kr/
   - 데이터: 임금, 물가, 인구 등

3. **금융감독원**

   - URL: https://www.fss.or.kr/
   - 데이터: 가계금융조사, 금융통계

4. **국민연금공단**
   - URL: https://www.nps.or.kr/
   - 데이터: 기대여명, 연금 정보

---

## 12. 구현 예시

### 12.1 결과 페이지에 출처 표시

```python
# pages/1_소득_지출_분석.py

# 결과 표시 후
st.markdown("---")
render_data_source('income')

st.markdown("---")
st.warning("""
⚠️ **면책 조항**

이 결과는 입력 데이터와 가정에 기반한 시뮬레이션입니다.
실제 재정 상황은 다양한 요인에 따라 달라질 수 있습니다.
전문가의 조언을 받는 것을 권장합니다.
""")
```

### 12.2 상세 출처 페이지 (선택)

```python
# pages/4_데이터_출처.py (선택적)

st.title("📚 데이터 출처 및 계산 근거")

st.markdown("""
## 데이터 출처

### 1. 사용자 입력 데이터
- 출처: 사용자가 직접 입력한 개인 재정 정보
- 검증: 입력 검증 로직을 통한 형식 및 논리 검증

### 2. 기본값 및 가정
- 인플레이션: 2.5% (한국은행 최근 3년 평균)
- 연봉 증가율: 사용자 입력 (기본 3%, 통계청 평균 참고)

### 3. 등급 기준
- 재정 건전성: 금융감독원 가계금융조사 기준
- 비상금 권장: 금융감독원 (6개월치 생활비)

## 계산 가정

### Phase 1 제한사항
- 인플레이션 미반영
- 투자 수익 미고려
- 긴급 지출 미고려
- 의료비 증가 미고려

## 참고 자료

- [한국은행 경제통계시스템](https://ecos.bok.or.kr/)
- [통계청 국가통계포털](https://kosis.kr/)
- [금융감독원](https://www.fss.or.kr/)
""")
```

---

---

## 13. 데이터 검증 방법 (API 및 뉴스 활용)

### 13.1 한국은행 ECOS API

**URL**: https://ecos.bok.or.kr/api/

**인증**: API 키 필요 (무료 회원가입)

**주요 데이터**:

- 소비자물가상승률 (인플레이션)
- 금리
- 환율
- GDP 등

**인플레이션 데이터 조회 예시**:

```python
import requests

def get_inflation_data():
    """한국은행 ECOS API를 통한 인플레이션 데이터 조회"""
    api_key = "YOUR_API_KEY"  # ECOS에서 발급받은 API 키
    url = f"https://ecos.bok.or.kr/api/StatisticSearch/{api_key}/json/kr/1/10/010Y001/MM/202101/202312/10101"

    response = requests.get(url)
    data = response.json()

    # 2021, 2022, 2023년 연평균 계산
    return data
```

**참고 링크**:

- ECOS API 가이드: https://ecos.bok.or.kr/api/
- Python 예제: https://wooiljeong.github.io/python/pdr-ecos/

---

### 13.2 통계청 KOSIS API

**URL**: https://kosis.kr/openapi/

**인증**: API 키 필요 (무료 회원가입)

**주요 데이터**:

- 임금근로시간조사
- 생명표
- 인구 통계
- 물가 통계 등

**임금 상승률 데이터 조회 예시**:

```python
import requests

def get_wage_growth_data():
    """통계청 KOSIS API를 통한 임금 상승률 조회"""
    api_key = "YOUR_API_KEY"

    # 임금근로시간조사 통계 코드 필요
    # KOSIS 사이트에서 통계 코드 확인 후 사용
    url = f"https://kosis.kr/openapi/statisticsData.do?method=getList&apiKey={api_key}&format=json&jsonVD=Y&userStatsId=..."

    response = requests.get(url)
    data = response.json()

    return data
```

**참고 링크**:

- KOSIS Open API: https://kosis.kr/openapi/
- KOSIS 공유서비스: https://mgmk.kosis.kr/serviceInfo/openAPIGuide.do
- Python 라이브러리: `kosis` 패키지 (https://github.com/seokhoonj/kosis)

---

### 13.3 뉴스 검색을 통한 검증

**네이버 뉴스 API**:

- URL: https://developers.naver.com/docs/serviceapi/search/news/news.md
- 인증: Client ID, Client Secret 필요

**Python 예시**:

```python
import requests

def search_naver_news(query):
    """네이버 뉴스 검색 API"""
    client_id = "YOUR_CLIENT_ID"
    client_secret = "YOUR_CLIENT_SECRET"

    url = "https://openapi.naver.com/v1/search/news.json"
    headers = {
        "X-Naver-Client-Id": client_id,
        "X-Naver-Client-Secret": client_secret
    }
    params = {
        "query": query,
        "display": 10,
        "sort": "date"
    }

    response = requests.get(url, headers=headers, params=params)
    data = response.json()

    return data['items']

# 사용 예시
news = search_naver_news("한국은행 소비자물가상승률 2023")
```

**검증에 유용한 검색어**:

- 인플레이션: "한국은행 소비자물가상승률 2023"
- 임금 상승률: "통계청 임금 상승률 2024"
- 생명표: "통계청 생명표 60세 기대여명"
- 비상금: "비상금 6개월 생활비 권장"

---

### 13.4 검증 워크플로우

1. **API 키 발급**

   - ECOS: https://ecos.bok.or.kr/api/ (회원가입)
   - KOSIS: https://kosis.kr/openapi/ (회원가입)
   - 네이버: https://developers.naver.com/ (개발자 등록)

2. **데이터 조회**

   - API를 통한 직접 조회
   - 뉴스 검색을 통한 간접 확인

3. **데이터 검증**

   - API 데이터와 문서의 수치 비교
   - 뉴스 기사에서 언급된 수치 확인

4. **문서 업데이트**
   - 검증된 수치로 문서 업데이트
   - 출처에 API 또는 뉴스 링크 추가

---

### 13.5 검증 체크리스트

**인플레이션 2.5% 검증**:

- [ ] ECOS API로 2021-2023년 데이터 조회
- [ ] 연평균 계산 후 2.5% 확인
- [ ] 뉴스에서 최근 인플레이션 관련 기사 확인
- [ ] 문서에 정확한 수치 및 출처 업데이트

**재정 건전성 등급 기준 검증**:

- [ ] 금융감독원 사이트에서 가계금융조사 보고서 검색
- [ ] 보고서에서 저축률 기준 확인
- [ ] 뉴스에서 관련 기준 언급 확인
- [ ] 공식 기준이 없으면 "금융권 일반 권장"으로 변경

**비상금 6개월치 검증**:

- [ ] 금융감독원 공식 문서 검색
- [ ] 뉴스에서 비상금 권장 기준 확인
- [ ] 금융권 일반 조언인지 확인
- [ ] 문서에 정확한 출처 명시

**생명표 기대여명 검증**:

- [ ] KOSIS API로 생명표 데이터 조회
- [ ] 통계청 사이트에서 최신 생명표 확인
- [ ] 뉴스에서 최근 기대여명 관련 기사 확인
- [ ] 문서에 정확한 수치 업데이트

---

## 14. 검증 결과 요약

### ✅ 검증 완료 항목

1. **한국은행 경제통계시스템 (ECOS)**

   - ✅ 공식 기관 존재 확인
   - ⚠️ 구체적 수치(2021-2023 평균 2.5%)는 API를 통한 검증 필요

2. **통계청 국가통계포털 (KOSIS)**

   - ✅ 공식 기관 존재 확인
   - ⚠️ 구체적 수치(임금 상승률, 생명표)는 API를 통한 검증 필요

3. **금융감독원**

   - ✅ 공식 기관 존재 확인
   - ⚠️ "가계금융조사" 보고서 존재 여부 확인 필요
   - ⚠️ 저축률 30% 기준이 공식 기준인지 확인 필요

4. **국민연금공단**
   - ✅ 공식 기관 존재 확인
   - ⚠️ 기대여명 20년 수치 확인 필요

### ⚠️ 검증 필요 항목

1. 인플레이션 기본값 2.5% (2021-2023 평균)
2. 재정 건전성 등급 기준 (저축률 30%, 20% 등)
3. 비상금 6개월치 생활비 권장
4. 통계청 생명표 기대여명 20년
5. 경제 위기 시나리오 (2008, 2020)
6. 통계청 임금 상승률 3-4%

**참고**: Phase 1 개발은 현재 문서의 값으로 진행하며, 검증은 Phase 2 또는 이후에 API를 통해 수행합니다.

---

이 문서를 Phase 1 디자인에 반영하고, 각 결과 페이지에 출처 표시를 추가해야 합니다.
