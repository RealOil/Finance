"""
경제 자유도 시뮬레이션 도구

사용자의 재정 상황을 분석하고 미래 자산을 예측하는 도구입니다.
"""

import streamlit as st
from shared.session_manager import init_session_state

# 페이지 설정
st.set_page_config(
    page_title="경제 자유도 시뮬레이션",
    page_icon="💰",
    layout="wide",
    initial_sidebar_state="expanded"
)

# 세션 상태 초기화
init_session_state()

# 사이드바 네비게이션
st.sidebar.title("💰 경제 자유도 시뮬레이션")
st.sidebar.markdown("---")
st.sidebar.markdown("### 📊 메뉴")
st.sidebar.markdown("""
- [홈](/)
- [소득 지출 분석](/소득_지출_분석)
- [리스크 시나리오](/리스크_시나리오)
- [시나리오 비교](/시나리오_비교)
""")
st.sidebar.markdown("---")
st.sidebar.markdown("### ℹ️ 안내")
st.sidebar.info("각 페이지에서 필요한 정보를 입력하고 시뮬레이션 버튼을 클릭하세요.")

# 메인 콘텐츠
st.title("💰 경제 자유도 시뮬레이션 도구")
st.markdown("---")

# 프로젝트 소개
st.header("📊 프로젝트 소개")

st.markdown("""
이 도구는 여러분의 재정 상황을 분석하고, 다양한 경제 시나리오에서의 미래 자산을 예측합니다.

### 목적
- 현재 재정 상태를 객관적으로 평가
- 미래 자산 변화를 시뮬레이션
- 다양한 경제 상황에서의 리스크 분석
- 재정 건전성 개선 방안 제시

### 주요 기능
1. **소득 및 지출 분석**: 현재 소비 패턴 기반 미래 자산 예측
2. **리스크 시나리오**: 경제 위기, 소득 중단 등 다양한 리스크 분석
3. **시나리오 비교**: 여러 재정 전략의 결과 비교
""")

st.divider()

# 빠른 시작 가이드
st.header("🚀 빠른 시작 가이드")

st.markdown("""
### 1단계: 기본 정보 입력
왼쪽 사이드바에서 다음 정보를 입력하세요:
- 현재 나이 및 은퇴 예정 나이
- 연봉 및 연봉 인상률
- 월 지출 및 연간 고정 지출
- 현재 자산 및 부채

### 2단계: 분석 페이지 선택
상단 메뉴에서 원하는 분석 페이지를 선택하세요:
- **소득 지출 분석**: 미래 자산 추정 및 재정 건전성 평가
- **리스크 시나리오**: 다양한 위험 상황에서의 생존력 분석
- **시나리오 비교**: 여러 재정 전략 비교

### 3단계: 결과 확인
각 페이지에서 계산 결과와 인사이트를 확인하세요.
""")

st.info("💡 **팁**: 입력값을 변경하면 모든 페이지의 결과가 자동으로 업데이트됩니다!")

st.divider()

# 기능 미리보기
st.header("✨ 기능 미리보기")

col1, col2, col3 = st.columns(3)

with col1:
    st.subheader("📈 소득 지출 분석")
    st.markdown("""
    - 미래 자산 추정
    - 재정 건전성 등급
    - 월 저축 가능 금액
    - 인플레이션 반영 분석
    """)

with col2:
    st.subheader("⚠️ 리스크 시나리오")
    st.markdown("""
    - 소득 중단 생존 기간
    - 경제 위기 시나리오
    - 은퇴 후 생활 유지 가능 여부
    - 종합 위험도 점수
    """)

with col3:
    st.subheader("🔄 시나리오 비교")
    st.markdown("""
    - 여러 재정 전략 비교
    - 최적 시나리오 추천
    - 시각적 비교 차트
    - 인사이트 제공
    """)

st.divider()

# 면책 조항
st.header("⚠️ 면책 조항 및 데이터 출처")

st.warning("""
**중요 안내**

이 도구는 교육 및 참고 목적으로 제공됩니다. 실제 투자 및 재정 결정에 앞서 전문가의 조언을 구하시기 바랍니다.

- 계산 결과는 입력 데이터와 가정에 기반한 추정치입니다.
- 실제 경제 상황과 다를 수 있습니다.
- 투자 손실에 대한 책임을 지지 않습니다.
""")

with st.expander("📚 데이터 출처 및 가정"):
    st.markdown("""
    ### 사용된 데이터 출처
    
    - **인플레이션**: 한국은행 경제통계시스템(ECOS) 기준
    - **연봉 인상률**: 통계청 근로형태별 근로실태조사 기준
    - **재정 건전성 등급**: 일반적인 재정 관리 기준
    - **비상금 기준**: 6개월 생활비 권장 기준
    
    ### 계산 가정
    
    - 인플레이션은 연 2.5%로 가정 (기본값)
    - 연봉 인상률은 연 3.0%로 가정 (기본값)
    - 경제 위기 시 자산 30% 하락 가정
    - 은퇴 후 생활비는 현재 월 지출 기준
    
    자세한 내용은 각 페이지의 데이터 출처 섹션을 참고하세요.
    """)

st.divider()

# 하단 정보
st.markdown("""
<div style='text-align: center; color: gray;'>
    <p>경제 자유도 시뮬레이션 도구 v1.0</p>
    <p>Made with ❤️ for better financial planning</p>
</div>
""", unsafe_allow_html=True)

